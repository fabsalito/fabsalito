{% extends 'FrontendBundle::layout.html.twig' %}

{% form_theme form _self %}

{% block field_errors %}
{% spaceless %}
    {% if errors|length > 0 %}
        {% for error in errors %}
            {{
                error.messagePluralization is null
                    ? error.messageTemplate|trans(error.messageParameters, 'validators')
                    : error.messageTemplate|transchoice(error.messagePluralization, error.messageParameters, 'validators')
            }} <br>
        {% endfor %}
    {% endif %}
{% endspaceless %}
{% endblock field_errors %}

{% block title_primary %}Contact{% endblock title_primary %}

{% block body %}
<div class="span12">

    {% if app.session.hasFlash('blogger-notice') %}
        <p class="text-info text-center">
            {{ app.session.flash('blogger-notice') }}
        </p>
    {% endif %}

    <form action="{{ path('frontend_contact') }}" method="post" {{ form_enctype(form) }}>
        <fieldset>
            <legend>Contacto</legend>
            
            <div>
                {{ form_label(form.name, 'Name') }}
                <p class="text-error">
                    {{ form_errors(form.name) }}
                </p>
                {{ form_widget(form.name,  { 'attr': { 
                    'class': 'input-block-level'
                    }}) 
                }}
            </div>

            <div>
                {{ form_label(form.email, 'Email') }}
                <p class="text-error">{{ form_errors(form.email) }}</p>
                {{ form_widget(form.email,  { 'attr': { 
                    'class': 'input-block-level'
                    }}) 
                }}
            </div>

            <div>
                {{ form_label(form.subject, 'Subject') }}
                <p class="text-error">{{ form_errors(form.subject) }}</p>
                {{ form_widget(form.subject,  { 'attr': { 
                    'class': 'input-block-level'
                    }}) 
                }}
            </div>

            <div>
                {{ form_label(form.content, 'Message') }}
                <p class="text-error">{{ form_errors(form.content) }}</p>
                {{ form_widget(form.content,  { 'attr': { 
                    'class': 'input-block-level'
                    }}) 
                }}
            </div>
            
            {{ form_rest(form) }}

            <input class="btn btn-primary btn-block" type="submit" id="_submit" name="_submit" value="Send" />
        </fieldset>
    </form>
</div>    
{% endblock body %}

{% block sidebar %}

{% endblock sidebar %}